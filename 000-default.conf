<VirtualHost *:80>
    ServerName circuitodavisaonovo.com.br
    DocumentRoot /var/www/html/public
    <Directory /var/www/html/public>
	Options Indexes FollowSymLinks MultiViews
        DirectoryIndex index.php
        AllowOverride All
        Order allow,deny
        Allow from all
    </Directory>
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
<IfModule mod_ssl.c>
    <VirtualHost *:443>
        ServerAdmin leonardo@circuitodavisao.com.br
        ServerName circuitodavisaonovo.com.br
        ServerAlias www.circuitodavisaonovo.com.br
        DocumentRoot /var/www/html/public
        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined
        SSLEngine on
        SSLCertificateFile /etc/apache2/ssl/circuitodavisaonovo.com.br.pem
        SSLCertificateKeyFile /etc/apache2/ssl/circuitodavisaonovo.com.br.key
        SSLCipherSuite ALL:!aNULL:RC4+RSA:+HIGH:+MEDIUM:+LOW:+EXP:+eNULL
        SSLHonorCipherOrder on
        <FilesMatch "\.(cgi|shtml|phtml|php)$">
                        SSLOptions +StdEnvVars
        </FilesMatch>
        <Directory /usr/lib/cgi-bin>
                        SSLOptions +StdEnvVars
        </Directory>
        <Directory /var/www/html/public>
            Options Indexes FollowSymLinks MultiViews
            DirectoryIndex index.php
            AllowOverride All
            Order allow,deny
            Allow from all
        </Directory>
        <Directory /var/www/html/private>
            AuthType Basic
            AuthName "Restricted Files"
            AuthBasicProvider socache file
            AuthUserFile /etc/apache2/.htpasswd
            AuthnCacheProvideFor file
            AuthnCacheTimeout 300
            Require valid-user
        </Directory>

        CacheQuickHandler off

        CacheLock on
        CacheLockPath /tmp/mod_cache-lock
        CacheLockMaxAge 5

        CacheIgnoreHeaders Set-Cookie

        <Location />
            CacheEnable disk
            CacheHeader on

            CacheDefaultExpire 600
            CacheMaxExpire 86400
            CacheLastModifiedFactor 0.5

            ExpiresActive on
            ExpiresDefault "access plus 5 minutes"

            Header merge Cache-Control public
            FileETag All
        </Location>

        BrowserMatch "MSIE [2-6]" \
                        nokeepalive ssl-unclean-shutdown \
                        downgrade-1.0 force-response-1.0
        BrowserMatch "MSIE [17-9]" ssl-unclean-shutdown        
    </VirtualHost>
</IfModule>
