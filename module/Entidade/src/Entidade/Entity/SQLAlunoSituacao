-- Table: aluno_situacao

-- DROP TABLE aluno_situacao;

CREATE TABLE aluno_situacao
(
  id serial NOT NULL, -- Identificação da associação do aluno com a situação
  situacao_id integer NOT NULL, -- Identificação da situação
  turma_aluno_id integer NOT NULL, -- Identificação (matricula) da turma aluno
  data_criacao date NOT NULL DEFAULT ('now'::text)::date, -- Data de criação da associação da situação com o aluno
  hora_criacao time without time zone NOT NULL DEFAULT ('now'::text)::time with time zone, -- Hora de criação da associação da situação com o aluno
  data_inativacao date, -- Data de inativação da associação da situação com aluno
  hora_inativacao time without time zone, -- Hora da inativação da associação situação com aluno
  CONSTRAINT pk_aluno_situacao PRIMARY KEY (id),
  CONSTRAINT fk_aluno_situacao_situacao FOREIGN KEY (situacao_id)
      REFERENCES situacao (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk_aluno_situacao_turma_aluno FOREIGN KEY (turma_aluno_id)
      REFERENCES turma_aluno (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE aluno_situacao
  OWNER TO postgres;
COMMENT ON TABLE aluno_situacao
  IS 'Associação entre o aluno e sua situacao';
COMMENT ON COLUMN aluno_situacao.id IS 'Identificação da associação do aluno com a situação';
COMMENT ON COLUMN aluno_situacao.situacao_id IS 'Identificação da situação';
COMMENT ON COLUMN aluno_situacao.turma_aluno_id IS 'Identificação (matricula) da turma aluno';
COMMENT ON COLUMN aluno_situacao.data_criacao IS 'Data de criação da associação da situação com o aluno';
COMMENT ON COLUMN aluno_situacao.hora_criacao IS 'Hora de criação da associação da situação com o aluno';
COMMENT ON COLUMN aluno_situacao.data_inativacao IS 'Data de inativação da associação da situação com aluno';
COMMENT ON COLUMN aluno_situacao.hora_inativacao IS 'Hora da inativação da associação situação com aluno';

