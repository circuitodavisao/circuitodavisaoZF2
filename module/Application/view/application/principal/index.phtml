<?php

use Application\Controller\Helper\Funcoes;
use Application\Controller\RelatorioController;
use Application\View\Helper\BotaoSimples;
?>
<!-- Begin: Content -->
<?php if ($this->mostrarPrincipal) { ?>
    <section id="content" class="mt40 table-layout animated fadeIn">
        <?php
        echo '<input type="hidden" id="eCasal" value="' . $this->eCasal . '" />';
        echo '<input type="hidden" id="valorCulto" value="' . RelatorioController::formataNumeroRelatorio($this->relatorio[0]['mediaMembresiaCulto']) . '" />';
        echo '<input type="hidden" id="valorArena" value="' . RelatorioController::formataNumeroRelatorio($this->relatorio[0]['mediaMembresiaArena']) . '" />';
        echo '<input type="hidden" id="valorDomingo" value="' . RelatorioController::formataNumeroRelatorio($this->relatorio[0]['mediaMembresiaDomingo']) . '" />';
        echo '<input type="hidden" id="valorMembresia" value="' . RelatorioController::formataNumeroRelatorio($this->relatorio[0]['mediaMembresia']) . '" />';
        $totalDeRelatorios = count($this->relatorio) - 1;
        ?>
        <!-- begin: .tray-center -->
        <div class="tray tray-center">
            <?php echo $this->dadosPrincipal($this->relatorio); ?>
            <div class="admin-form fade-onload">
                <div class="text-right">
                    <label class="switch switch-primary block" style="margin-right: 0px;">
                        <span class="fa fa-user" style="
                              display: inline-block;
                              padding-right: 5px;
                              position: relative;
                              top: -7px;">
                        </span>
                        <input onclick="$('.relatorioPessoal').toggleClass('hidden'); $('.relatorioEquipe').toggleClass('hidden');" type="checkbox" name="features" id="f1" value="javascript">
                        <label for="f1" data-on="" data-off=""></label>
                        <span class="fa fa-users"></span>
                    </label>   
                </div>
                <!--circuito me ajuda-->
                <div class="row alert alert-default mt10">
                    <div class="col-xs-12 col-md-12 col-lg-12">                        
                        <div class="panel">                        
                            <div class="panel-body pn">                                
                                <?php
                                if ($this->discipulos) {

                                    /* Celulas nao realizadas */
                                    $html = '';
                                    $totalDeCelulasNaoRealizadas = 0;
                                    foreach ($this->discipulos as $gpFilho) {
                                        $grupoFilho = $gpFilho->getGrupoPaiFilhoFilho();
                                        $nomeLideres = $grupoFilho->getNomeLideresAtivos();
                                        $relatorioDiscipulo = $this->discipulosRelatorio[$grupoFilho->getId()];
                                        $relatorioDiscipuloPessoal = $this->discipulosRelatorioPessoal[$grupoFilho->getId()];
                                        $diferenca = $relatorioDiscipulo['celulaQuantidade'] - $relatorioDiscipulo['celulaRealizadas'];
                                        $diferencaPessoal = $relatorioDiscipuloPessoal['celulaQuantidade'] - $relatorioDiscipuloPessoal['celulaRealizadas'];
                                        $html .= '<tr class="linhaCelulasNaoRealizadas hidden info">';
                                        $html .= '<td colspan="2">EQUIPE - ' . $nomeLideres . '</td>';
                                        $html .= '</tr>';
                                        if ($diferencaPessoal > 0) {
                                            $html .= '<tr class="linhaCelulasNaoRealizadas hidden">';
                                            $html .= '<td>' . $nomeLideres . '</td>';
                                            $html .= '<td>' . $diferencaPessoal . '</td>';
                                            $html .= '</tr>';
                                        }
                                        $grupoPaiFilhoFilhos144 = $grupoFilho->getGrupoPaiFilhoFilhosAtivos(-1);
                                        if ($grupoPaiFilhoFilhos144) {
                                            foreach ($grupoPaiFilhoFilhos144 as $gpFilho144) {
                                                $grupoFilho144 = $gpFilho144->getGrupoPaiFilhoFilho();
                                                $nomeLideres144 = $grupoFilho144->getNomeLideresAtivos();
                                                $relatorioDiscipulo144 = $this->discipulosRelatorio[$grupoFilho144->getId()];
                                                $numeroSub = $grupoFilho144->getEntidadeAtiva()->infoEntidade(true);
                                                if ($relatorioDiscipulo144) {
                                                    $diferenca144 = $relatorioDiscipulo144['celulaQuantidade'] - $relatorioDiscipulo144['celulaRealizadas'];
                                                    $html .= '<tr class="linhaCelulasNaoRealizadas hidden">';
                                                    $html .= '<td>' . $numeroSub . '-' . $nomeLideres144 . '</td>';
                                                    $html .= '<td>' . $diferenca144 . '</td>';
                                                    $html .= '</tr>';
                                                }

                                                $grupoPaiFilhoFilhos1728 = $grupoFilho144->getGrupoPaiFilhoFilhosAtivos(-1);
                                                if ($grupoPaiFilhoFilhos1728) {
                                                    foreach ($grupoPaiFilhoFilhos1728 as $gpFilho1728) {
                                                        $grupoFilho1728 = $gpFilho1728->getGrupoPaiFilhoFilho();
                                                        $nomeLideres1728 = $grupoFilho1728->getNomeLideresAtivos();
                                                        $relatorioDiscipulo1728 = $this->discipulosRelatorio[$grupoFilho1728->getId()];
                                                        $numeroSub = $grupoFilho1728->getEntidadeAtiva()->infoEntidade(true);
                                                        if ($relatorioDiscipulo1728) {
                                                            $diferenca1728 = $relatorioDiscipulo1728['celulaQuantidade'] - $relatorioDiscipulo1728['celulaRealizadas'];
                                                            $html .= '<tr class="linhaCelulasNaoRealizadas hidden">';
                                                            $html .= '<td>' . $numeroSub . '-' . $nomeLideres1728 . '</td>';
                                                            $html .= '<td>' . $diferenca1728 . '</td>';
                                                            $html .= '</tr>';
                                                        }

                                                        $grupoPaiFilhoFilhos20736 = $grupoFilho1728->getGrupoPaiFilhoFilhosAtivos(-1);
                                                        if ($grupoPaiFilhoFilhos20736) {
                                                            foreach ($grupoPaiFilhoFilhos20736 as $gpFilho20736) {
                                                                $grupoFilho20736 = $gpFilho20736->getGrupoPaiFilhoFilho();
                                                                $nomeLideres20736 = $grupoFilho20736->getNomeLideresAtivos();
                                                                $relatorioDiscipulo20736 = $this->discipulosRelatorio[$grupoFilho20736->getId()];
                                                                $numeroSub = $grupoFilho20736->getEntidadeAtiva()->infoEntidade(true);
                                                                if ($relatorioDiscipulo20736) {
                                                                    $diferenca20736 = $relatorioDiscipulo20736['celulaQuantidade'] - $relatorioDiscipulo20736['celulaRealizadas'];
                                                                    $html .= '<tr class="linhaCelulasNaoRealizadas hidden">';
                                                                    $html .= '<td>' . $numeroSub . '-' . $nomeLideres20736 . '</td>';
                                                                    $html .= '<td>' . $diferenca20736 . '</td>';
                                                                    $html .= '</tr>';
                                                                }

                                                                $grupoPaiFilhoFilhos248832 = $grupoFilho20736->getGrupoPaiFilhoFilhosAtivos($periodo);
                                                                if ($grupoPaiFilhoFilhos248832) {
                                                                    foreach ($grupoPaiFilhoFilhos248832 as $gpFilho248832) {
                                                                        $grupoFilho248832 = $gpFilho248832->getGrupoPaiFilhoFilho();
                                                                        $nomeLideres248832 = $grupoFilho248832->getNomeLideresAtivos();
                                                                        $relatorioDiscipulo248832 = $this->discipulosRelatorio[$grupoFilho248832->getId()];
                                                                        $numeroSub = $grupoFilho248832->getEntidadeAtiva()->infoEntidade(true);
                                                                        if ($relatorioDiscipulo248832) {
                                                                            $diferenca248832 = $relatorioDiscipulo248832['celulaQuantidade'] - $relatorioDiscipulo248832['celulaRealizadas'];
                                                                            $html .= '<tr class="linhaCelulasNaoRealizadas hidden">';
                                                                            $html .= '<td>' . $numeroSub . '-' . $nomeLideres248832 . '</td>';
                                                                            $html .= '<td>' . $diferenca248832 . '</td>';
                                                                            $html .= '</tr>';
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                        $html .= '<tr class="linhaCelulasNaoRealizadas hidden primary">';
                                        $html .= '<td class="text-right">TOTAL</td>';
                                        $html .= '<td>' . $diferenca . '</td>';
                                        $html .= '</tr>';
                                        $html .= '<tr class="linhaCelulasNaoRealizadas hidden">';
                                        $html .= '<td colspan="2"></td>';
                                        $html .= '</tr>';
                                        $totalDeCelulasNaoRealizadas += $diferenca;
                                    }

                                    $htmlCelulaDeElite = '';
                                    $totalDeCelulasDeElite = 0;
                                    foreach ($this->discipulos as $gpFilho) {
                                        $totalDeCelulasDeElitePorEquipe = 0;
                                        $grupoFilho = $gpFilho->getGrupoPaiFilhoFilho();
                                        $nomeLideres = $grupoFilho->getNomeLideresAtivos();
                                        $relatorioCelula = $this->discipulosRelatorio[$grupoFilho->getId()];
                                        foreach ($relatorioCelula as $relatorio) {
                                            if ($relatorio['resposta'] == 1) {
                                                $totalDeCelulasDeElite++;
                                                $totalDeCelulasDeElitePorEquipe++;
                                            }
                                        }

                                        $htmlCelulaDeElite .= '<tr class="linhaCelulasDeElite hidden info">';
                                        $htmlCelulaDeElite .= '<td colspan="2">EQUIPE - ' . $nomeLideres . '</td>';
                                        $htmlCelulaDeElite .= '</tr>';
//                                        if ($diferencaPessoal > 0) {
//                                            $htmlCelulaDeElite .= '<tr class="linhaCelulasDeElite hidden">';
//                                            $htmlCelulaDeElite .= '<td>' . $nomeLideres . '</td>';
//                                            $htmlCelulaDeElite .= '<td>' . $diferencaPessoal . '</td>';
//                                            $htmlCelulaDeElite .= '</tr>';
//                                        }
//                                        $grupoPaiFilhoFilhos144 = $grupoFilho->getGrupoPaiFilhoFilhosAtivos(-1);
//                                        if ($grupoPaiFilhoFilhos144) {
//                                            foreach ($grupoPaiFilhoFilhos144 as $gpFilho144) {
//                                                $grupoFilho144 = $gpFilho144->getGrupoPaiFilhoFilho();
//                                                $nomeLideres144 = $grupoFilho144->getNomeLideresAtivos();
//                                                $relatorioDiscipulo144 = $this->discipulosRelatorio[$grupoFilho144->getId()];
//                                                $numeroSub = $grupoFilho144->getEntidadeAtiva()->infoEntidade(true);
//                                                if ($relatorioDiscipulo144) {
//                                                    $diferenca144 = $relatorioDiscipulo144['celulaQuantidade'] - $relatorioDiscipulo144['celulaRealizadas'];
//                                                    $htmlCelulaDeElite .= '<tr class="linhaCelulasDeElite hidden">';
//                                                    $htmlCelulaDeElite .= '<td>' . $numeroSub . '-' . $nomeLideres144 . '</td>';
//                                                    $htmlCelulaDeElite .= '<td>' . $diferenca144 . '</td>';
//                                                    $htmlCelulaDeElite .= '</tr>';
//                                                }
//
//                                                $grupoPaiFilhoFilhos1728 = $grupoFilho144->getGrupoPaiFilhoFilhosAtivos(-1);
//                                                if ($grupoPaiFilhoFilhos1728) {
//                                                    foreach ($grupoPaiFilhoFilhos1728 as $gpFilho1728) {
//                                                        $grupoFilho1728 = $gpFilho1728->getGrupoPaiFilhoFilho();
//                                                        $nomeLideres1728 = $grupoFilho1728->getNomeLideresAtivos();
//                                                        $relatorioDiscipulo1728 = $this->discipulosRelatorio[$grupoFilho1728->getId()];
//                                                        $numeroSub = $grupoFilho1728->getEntidadeAtiva()->infoEntidade(true);
//                                                        if ($relatorioDiscipulo1728) {
//                                                            $diferenca1728 = $relatorioDiscipulo1728['celulaQuantidade'] - $relatorioDiscipulo1728['celulaRealizadas'];
//                                                            $htmlCelulaDeElite .= '<tr class="linhaCelulasDeElite hidden">';
//                                                            $htmlCelulaDeElite .= '<td>' . $numeroSub . '-' . $nomeLideres1728 . '</td>';
//                                                            $htmlCelulaDeElite .= '<td>' . $diferenca1728 . '</td>';
//                                                            $htmlCelulaDeElite .= '</tr>';
//                                                        }
//
//                                                        $grupoPaiFilhoFilhos20736 = $grupoFilho1728->getGrupoPaiFilhoFilhosAtivos(-1);
//                                                        if ($grupoPaiFilhoFilhos20736) {
//                                                            foreach ($grupoPaiFilhoFilhos20736 as $gpFilho20736) {
//                                                                $grupoFilho20736 = $gpFilho20736->getGrupoPaiFilhoFilho();
//                                                                $nomeLideres20736 = $grupoFilho20736->getNomeLideresAtivos();
//                                                                $relatorioDiscipulo20736 = $this->discipulosRelatorio[$grupoFilho20736->getId()];
//                                                                $numeroSub = $grupoFilho20736->getEntidadeAtiva()->infoEntidade(true);
//                                                                if ($relatorioDiscipulo20736) {
//                                                                    $diferenca20736 = $relatorioDiscipulo20736['celulaQuantidade'] - $relatorioDiscipulo20736['celulaRealizadas'];
//                                                                    $htmlCelulaDeElite .= '<tr class="linhaCelulasDeElite hidden">';
//                                                                    $htmlCelulaDeElite .= '<td>' . $numeroSub . '-' . $nomeLideres20736 . '</td>';
//                                                                    $htmlCelulaDeElite .= '<td>' . $diferenca20736 . '</td>';
//                                                                    $htmlCelulaDeElite .= '</tr>';
//                                                                }
//
//                                                                $grupoPaiFilhoFilhos248832 = $grupoFilho20736->getGrupoPaiFilhoFilhosAtivos($periodo);
//                                                                if ($grupoPaiFilhoFilhos248832) {
//                                                                    foreach ($grupoPaiFilhoFilhos248832 as $gpFilho248832) {
//                                                                        $grupoFilho248832 = $gpFilho248832->getGrupoPaiFilhoFilho();
//                                                                        $nomeLideres248832 = $grupoFilho248832->getNomeLideresAtivos();
//                                                                        $relatorioDiscipulo248832 = $this->discipulosRelatorio[$grupoFilho248832->getId()];
//                                                                        $numeroSub = $grupoFilho248832->getEntidadeAtiva()->infoEntidade(true);
//                                                                        if ($relatorioDiscipulo248832) {
//                                                                            $diferenca248832 = $relatorioDiscipulo248832['celulaQuantidade'] - $relatorioDiscipulo248832['celulaRealizadas'];
//                                                                            $htmlCelulaDeElite .= '<tr class="linhaCelulasDeElite hidden">';
//                                                                            $htmlCelulaDeElite .= '<td>' . $numeroSub . '-' . $nomeLideres248832 . '</td>';
//                                                                            $htmlCelulaDeElite .= '<td>' . $diferenca248832 . '</td>';
//                                                                            $htmlCelulaDeElite .= '</tr>';
//                                                                        }
//                                                                    }
//                                                                }
//                                                            }
//                                                        }
//                                                    }
//                                                }
//                                            }
//                                        }
                                        $htmlCelulaDeElite .= '<tr class="linhaCelulasDeElite hidden primary">';
                                        $htmlCelulaDeElite .= '<td class="text-right">TOTAL</td>';
                                        $htmlCelulaDeElite .= '<td>' . $totalDeCelulasDeElitePorEquipe . '</td>';
                                        $htmlCelulaDeElite .= '</tr>';
                                        $htmlCelulaDeElite .= '<tr class="linhaCelulasDeElite hidden">';
                                        $htmlCelulaDeElite .= '<td colspan="2"></td>';
                                        $htmlCelulaDeElite .= '</tr>';
                                    }

                                    echo '<table class="table table-condensed">';
                                    echo '<thead>';
                                    echo '<tr class="info">';
                                    echo '<th colspan="2" class="text-center">Circuito me Ajuda ' . Funcoes::montaPeriodo(-1)[0] . '</th>';
                                    echo '</tr>';
                                    echo '</thead>';
                                    echo '<tbody>';
                                    echo '<tr>';
                                    echo '<td class="text-center">Celulas <b>N&atilde;o</b> Realizadas: ' . $totalDeCelulasNaoRealizadas . '</td>';
                                    $funcao = $this->funcaoOnClick('$(".linhaCelulasNaoRealizadas").toggleClass("hidden")');
                                    echo '<td>' . $this->botaoSimples('<i class="fa fa-eye" />', $funcao, BotaoSimples::botaoMuitoPequenoImportante, BotaoSimples::posicaoAoCentro) . '</td>';
                                    echo '</tr>';
                                    echo $html;

                                    echo '<tr>';
                                    echo '<td class="text-center">(Manuten&cdeil;&atilde;o)Celulas de <b>Elite</b>: ' . $totalDeCelulasDeElite . '</td>';
                                    $funcaoCelulasDeElite = $this->funcaoOnClick('$(".linhaCelulasDeElite").toggleClass("hidden")');
                                    echo '<td>' . $this->botaoSimples('<i class="fa fa-eye" />', $funcaoCelulasDeElite, BotaoSimples::botaoMuitoPequenoImportante, BotaoSimples::posicaoAoCentro) . '</td>';
                                    echo '</tr>';
                                    echo $html;

                                    echo '</tbody>';
                                    echo '</table>';
                                }
                                ?>
                            </div>
                        </div>  
                    </div>
                </div>  
                <!--cursos-->
                <?php if (count($this->alunosComFaltas[0]) > 0) { ?>
                    <!--                    <div class="row alert alert-info mt10">
                                            <div class="col-xs-12 col-md-12 col-lg-12">
                                                <table class="table table-condensed">
                                                    <tbody>
                                                        <tr>
                                                            <td>Cursos</td>
                                                        </tr>
                    <?php
//                                    foreach ($this->turmas as $turma) {
//                                        if (count($this->alunosComFaltas[0][$turma->getId()]) > 0) {
//                                            $contadorTurma = 0;
//                                            foreach ($this->alunosComFaltas[0][$turma->getId()] as $turmaPessoa) {
//                                                foreach ($this->alunosComFaltas[1][$turma->getId()][$turmaPessoa->getId()] as $falta) {
//                                                    $contadorTurma++;
//                                                }
//                                            }
//                                            $spanMobile = '<span class="hidden-sm hidden-md hidden-lg">' . $turma->getCurso()->getNomeSigla() . '</span>';
//                                            $spanDesktop = '<span class="hidden-xs">' . $turma->getCurso()->getNome() . '</span>';
//                                            echo '<tr>';
//                                            echo '<td>' . $spanDesktop . $spanMobile . ' - ' . Funcoes::mesPorExtenso($turma->getMes()) . '/' . $turma->getAno() . '</td>';
//                                            echo '<td>Faltas ' . $contadorTurma . '</td>';
//                                            echo '<td>' . $this->botaoSimples('<i class="fa fa-eye" />', $this->funcaoOnClick('$(".turma' . $turma->getId() . '").toggleClass("hidden")'), BotaoSimples::botaoMuitoPequenoImportante, BotaoSimples::posicaoAoCentro) . '</td>';
//                                            echo '</tr>';
//                                            foreach ($this->alunosComFaltas[0][$turma->getId()] as $turmaPessoa) {
//                                                $spanDesktopNome = '<span class="hidden-xs">' . $turmaPessoa->getPessoa()->getNome() . '</span>';
//                                                $spanMobileNome = '<span class="hidden-sm hidden-md hidden-lg">' . $turmaPessoa->getPessoa()->getNomePrimeiroUltimo() . '</span>';
//                                                $nomeEquipe = CursoController::nomeEquipeTurmaPessoa($turmaPessoa);
//                                                echo '<tr class="turma' . $turma->getId() . ' hidden">';
//                                                echo '<td colspan="2"><i class="fa fa-user" /> ' . $spanDesktopNome . $spanMobileNome . '</td>';
//                                                echo '<td>' . $nomeEquipe . '</td>';
//                                                echo '</tr>';
//                                                foreach ($this->alunosComFaltas[1][$turma->getId()][$turmaPessoa->getId()] as $falta) {
//                                                    echo '<tr class="turma' . $turma->getId() . ' hidden">';
//                                                    echo '<td colspan="2" class="text-right"># ' . $falta[0] . '</td>';
////                                                    echo '<td>' . $this->botaoSimples('<i class="fa fa-file-text" />', '#', BotaoSimples::botaoPequenoImportante, BotaoSimples::posicaoADireita) . '</td>';
//                                                    echo '<td><i class="fa fa-file-text" /></td>';
//                                                    echo '</tr>';
//                                                }
//                                            }
//                                        }
//                                    }
                    ?>
                                                    </tbody>
                                                </table>
                    
                                            </div>
                                        </div>-->
                <?php } ?>
                <!--proximoNivel-->
                <div class="relatorioEquipe hidden row alert alert-default mt10">
                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <?php echo $this->dadosProximoNivel($this->relatorio); ?>
                    </div>
                </div>
                <!--membresia-->
                <div class="row alert alert-default mt10">
                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <p class="relatorioPessoal well text-<?php echo $this->relatorio[0]['mediaMembresiaPerformanceClass']; ?> text-center"><?php echo $this->relatorio[0]['mediaMembresiaPerformanceFrase']; ?></p>
                        <p class="relatorioEquipe hidden well text-<?php echo $this->relatorio[$totalDeRelatorios]['mediaMembresiaPerformanceClass']; ?> text-center"><?php echo $this->relatorio[$totalDeRelatorios]['mediaMembresiaPerformanceFrase']; ?></p>
                        <div class="relatorioPessoal">
                            <?php
                            echo $this->barraDeProgressoBonita(
                                    'Membresia', $this->relatorio[0]['mediaMembresiaPerformanceClass'], $this->relatorio[0]['mediaMembresiaPerformance'], 'm0', true, $this->relatorio[0][-1]['membresiaMeta'], $this->relatorio[0]['mediaMembresia'], '');
                            ?>
                        </div>  
                        <div class="relatorioEquipe hidden">
                            <?php
                            echo $this->barraDeProgressoBonita(
                                    'Membresia', $this->relatorio[$totalDeRelatorios]['mediaMembresiaPerformanceClass'], $this->relatorio[$totalDeRelatorios]['mediaMembresiaPerformance'], 'm0', true, $this->relatorio[$totalDeRelatorios][-1]['membresiaMeta'], $this->relatorio[$totalDeRelatorios]['mediaMembresia'], '');
                            ?>
                        </div> 
                    </div>
                    <!--Gauges membresia-->
                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <div id="divGaugesMembresia" class="row p10">
                            <?php
                            $class = 'class = "col-lg-3 col-md-3 col-sm-6 col-xs-12"';
                            $numeroIndices = 4;
                            for ($indice = 1; $indice <= $numeroIndices; $indice++) {
                                switch ($indice) {
                                    case 1:
                                        $label = 'PESSOAS CHEIAS DE F&Eacute;
                                            ';
                                        $valor[1] = $this->relatorio[0]['mediaMembresiaCulto'];
                                        $valor[2] = $this->relatorio[$totalDeRelatorios]['mediaMembresiaCulto'];
                                        break;
                                    case 2:
                                        $label = 'PESSOAS APAIXONADAS';
                                        $valor[1] = $this->relatorio[0]['mediaMembresiaArena'];
                                        $valor[2] = $this->relatorio[$totalDeRelatorios]['mediaMembresiaArena'];
                                        break;
                                    case 3:
                                        $label = 'PESSOAS ALIAN&Ccedil;ADAS';
                                        $valor[1] = $this->relatorio[0]['mediaMembresiaDomingo'];
                                        $valor[2] = $this->relatorio[$totalDeRelatorios]['mediaMembresiaDomingo'];
                                        break;
                                    case 4: $label = 'MEMBROS ASS&Iacute;DUOS';
                                        $valor[1] = $this->relatorio[0]['mediaMembresia'];
                                        $valor[2] = $this->relatorio[$totalDeRelatorios]['mediaMembresia'];
                                        break;
                                }
                                $valor[1] = RelatorioController::formataNumeroRelatorio($valor[1]);
                                $valor[2] = RelatorioController::formataNumeroRelatorio($valor[2]);
                                ?>
                                <div <?php echo $class; ?>>
                                    <div class="panel panel-tile text-center br-a br-grey">
                                        <div class="panel-body" style="padding-bottom: 0px;">
                                            <h1 class="fs30 mt5 mbn">
                                                <?php
                                                echo '<span class = "relatorioPessoal">' . $valor[1] . '</span>';
                                                echo '<span class = "relatorioEquipe hidden">' . $valor[2] . '</span>';
                                                ?>
                                            </h1>
                                            <h6><?php echo $label; ?></h6>                                    
                                        </div> 
                                        <div class="panel-footer br-t p12">
                                            <span class="fs11">
                                                <?php
                                                for ($indicePeriodosDoMesAtual = $this->periodoInicial; $indicePeriodosDoMesAtual <= $this->periodoFinal; $indicePeriodosDoMesAtual++) {
                                                    if ($indicePeriodosDoMesAtual != $this->periodoInicial) {
                                                        echo ' | ';
                                                    }
                                                    switch ($indice) {
                                                        case 1:
                                                            $valor[1] = $this->relatorio[0][$indicePeriodosDoMesAtual]['membresiaCulto'];
                                                            $valor[2] = $this->relatorio[$totalDeRelatorios][$indicePeriodosDoMesAtual]['membresiaCulto'];
                                                            break;
                                                        case 2:
                                                            $valor[1] = $this->relatorio[0][$indicePeriodosDoMesAtual]['membresiaArena'];
                                                            $valor[2] = $this->relatorio[$totalDeRelatorios][$indicePeriodosDoMesAtual]['membresiaArena'];
                                                            break;
                                                        case 3:
                                                            $valor[1] = $this->relatorio[0][$indicePeriodosDoMesAtual]['membresiaDomingo'];
                                                            $valor[2] = $this->relatorio[$totalDeRelatorios][$indicePeriodosDoMesAtual]['membresiaDomingo'];
                                                            break;
                                                        case 4:
                                                            $valor[1] = $this->relatorio[0][$indicePeriodosDoMesAtual]['membresia'];
                                                            $valor[2] = $this->relatorio[$totalDeRelatorios][$indicePeriodosDoMesAtual]['membresia'];
                                                            $valor[1] = RelatorioController::formataNumeroRelatorio($valor[1]);
                                                            $valor[2] = RelatorioController::formataNumeroRelatorio($valor[2]);
                                                            break;
                                                    }

                                                    echo '<span class="relatorioPessoal" style="font-size: 10px;">' . $valor[1] . '</span>';
                                                    echo '<span class="relatorioEquipe hidden" style="font-size: 10px;">' . $valor[2] . '</span>';
                                                }
                                                ?>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            <?php }
                            ?>
                        </div>                    
                    </div>
                </div>
                <!--celula-->
                <div class="row alert alert-default mt10">
                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <p class="relatorioPessoal well bg-default text-<?php echo $this->relatorio[0]['mediaCelulaPerformanceClass']; ?> text-center"><?php echo $this->relatorio[0]['mediaCelulaPerformanceFrase']; ?></p>
                        <p class="relatorioEquipe hidden well bg-default text-<?php echo $this->relatorio[$totalDeRelatorios]['mediaCelulaPerformanceClass']; ?> text-center"><?php echo $this->relatorio[$totalDeRelatorios]['mediaCelulaPerformanceFrase']; ?></p>
                        <div class="relatorioPessoal">
                            <?php
                            echo $this->barraDeProgressoBonita(
                                    'Célula', $this->relatorio[0]['mediaCelulaPerformanceClass'], $this->relatorio[0]['mediaCelulaPerformance'], 'm0', true, $this->relatorio[0][-1]['membresiaMeta'], $this->relatorio[0]['mediaCelula'], '');
                            ?>
                        </div>  
                        <div class="relatorioEquipe hidden">
                            <?php
                            echo $this->barraDeProgressoBonita(
                                    'Célula', $this->relatorio[$totalDeRelatorios]['mediaCelulaPerformanceClass'], $this->relatorio[$totalDeRelatorios]['mediaCelulaPerformance'], 'm0', true, $this->relatorio[$totalDeRelatorios][-1]['membresiaMeta'], $this->relatorio[$totalDeRelatorios]['mediaCelula'], '');
                            ?>
                        </div>
                    </div>
                    <!--Gauges celulas-->
                    <div class="col-xs-12 col-md-12 col-lg-12">
                        <div id="divGaugesCelula" class="row p10">   
                            <?php
                            $class = 'class = "col-lg-4 col-md-4 col-sm-4 col-xs-12"';
                            $numeroIndices = 3;
                            for ($indice = 1; $indice <= $numeroIndices; $indice++) {
                                switch ($indice) {
                                    case 1:
                                        $label = 'TOTAL DE CÉLULAS DE MULTIPLIÇÃO';
                                        $valor[1] = $this->relatorio[0]['mediaCelulaQuantidade'];
                                        $valor[2] = $this->relatorio[$totalDeRelatorios]['mediaCelulaQuantidade'];
                                        $valor[1] = RelatorioController::formataNumeroRelatorio($valor[1]);
                                        $valor[2] = RelatorioController::formataNumeroRelatorio($valor[2]);
                                        break;
                                    case 2:
                                        $label = 'PESSOAS FREQUENTE';
                                        $valor[1] = $this->relatorio[0]['mediaCelula'];
                                        $valor[2] = $this->relatorio[$totalDeRelatorios]['mediaCelula'];
                                        $valor[1] = RelatorioController::formataNumeroRelatorio($valor[1]);
                                        $valor[2] = RelatorioController::formataNumeroRelatorio($valor[2]);
                                        break;
                                    case 3:
                                        $label = 'CÉLULAS REALIZADAS';
                                        $valor[1] = $this->relatorio[0]['mediaCelulaRealizadasPerformance'];
                                        $valor[2] = $this->relatorio[$totalDeRelatorios]['mediaCelulaRealizadasPerformance'];
                                        $valor[1] = RelatorioController::formataNumeroRelatorio($valor[1]) . '%';
                                        $valor[2] = RelatorioController::formataNumeroRelatorio($valor[2]) . '%';
                                        break;
                                }
                                ?>
                                <div <?php echo $class; ?>>
                                    <div class="panel panel-tile text-center br-a br-grey">
                                        <div class="panel-body" style="padding-bottom: 0px;">
                                            <h1 class="fs30 mt5 mbn">
                                                <?php
                                                echo '<span class = "relatorioPessoal">' . $valor[1] . '</span>';
                                                echo '<span class = "relatorioEquipe hidden">' . $valor[2] . '</span>';
                                                ?>
                                            </h1>
                                            <h6><?php echo $label; ?></h6>                                    
                                        </div> 
                                        <div class="panel-footer br-t p12">
                                            <span class="fs11">
                                                <?php
                                                for ($indicePeriodosDoMesAtual = $this->periodoInicial; $indicePeriodosDoMesAtual <= $this->periodoFinal; $indicePeriodosDoMesAtual++) {
                                                    if ($indicePeriodosDoMesAtual != $this->periodoInicial) {
                                                        echo ' | ';
                                                    }
                                                    switch ($indice) {
                                                        case 1:
                                                            $valor[1] = $this->relatorio[0][$indicePeriodosDoMesAtual]['celulaQuantidade'];
                                                            $valor[2] = $this->relatorio[$totalDeRelatorios][$indicePeriodosDoMesAtual]['celulaQuantidade'];
                                                            break;
                                                        case 2:
                                                            $valor[1] = $this->relatorio[0][$indicePeriodosDoMesAtual]['celula'];
                                                            $valor[2] = $this->relatorio[$totalDeRelatorios][$indicePeriodosDoMesAtual]['celula'];
                                                            break;
                                                        case 3:
                                                            $valor[1] = $this->relatorio[0][$indicePeriodosDoMesAtual]['celulaRealizadasPerformance'];
                                                            $valor[2] = $this->relatorio[$totalDeRelatorios][$indicePeriodosDoMesAtual]['celulaRealizadasPerformance'];
                                                            $valor[1] = RelatorioController::formataNumeroRelatorio($valor[1]) . '%';
                                                            $valor[2] = RelatorioController::formataNumeroRelatorio($valor[2]) . '%';
                                                            break;
                                                    }

                                                    $botaoModalPessoal = $valor[1];
                                                    $botaoModalEquipe = $valor[2];
//                                                    if ($indice === 3) {
//                                                        $funcaoOnClick = $this->funcaoOnClick('mostrarModalCelulasNaoRealizadas()');
//                                                        $botaoModalPessoal = $this->botaoSimples($valor[1], $funcaoOnClick, BotaoSimples::botaoMuitoPequenoImportante, BotaoSimples::posicaoAoCentro);
//                                                        $botaoModalEquipe = $this->botaoSimples($valor[2], $funcaoOnClick, BotaoSimples::botaoMuitoPequenoImportante, BotaoSimples::posicaoAoCentro);
//                                                    }
                                                    echo '<span class = "relatorioPessoal" style = "font-size: 10px;">' . $botaoModalPessoal . '</span>';
                                                    echo '<span class = "relatorioEquipe hidden" style = "font-size: 10px;">' . $botaoModalEquipe . '</span>';
                                                }
                                                ?>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            <?php }
                            ?>
                        </div>
                    </div>              
                </div>   
                <!--modalInformativo-->
                <div id="modalInformativo" class="popup-basic p25 mfp-with-anim mfp-hide">
                    <div class="mt20"><span id="spanModalInformativo"></span></div>
                    <button tittle="Close (Esc)" type="button" class="mfp-close bg-dark">x</button>
                </div>
            </div>            
        </div>  
    </section>
    <?php
}
echo $this->layoutJSPrincipal;
